!function(){window.Ltm=Ember.Application.create({LOG_ACTIVE_GENERATION:!0,LOG_MODULE_RESOLVER:!0,LOG_TRANSITIONS:!0,LOG_TRANSITIONS_INTERNAL:!0,LOG_VIEW_LOOKUPS:!0})}(),function(){Ltm.LexController=Ember.ArrayController.extend({needs:"collection",collection:function(){return this.get("controllers.collection.model")}.property()})}(),function(){Ltm.LexEntryController=Ember.Controller.extend({needs:"collection",start:0,numRows:5,collection:function(){return this.get("controllers.collection.model")}.property(),entries:function(){var a=this,b=Ember.ArrayProxy.create({content:[Ember.Object.create()]});return this.get("store").find("lexeme",{lexical_class__language:this.get("model").get("id"),collections:this.get("collection").get("id")}).then(function(c){b.set("content",c.slice(a.get("start"),a.get("start")+a.get("numRows")))}),b}.property("collection","model")})}(),function(){Ltm.TermIndexController=Ember.Controller.extend({start:0,numRows:5,activeLanguages:[],languages:function(){return this.get("store").find("language",{lexical_classes__lexemes__collections:this.get("model").get("id")})}.property("model"),activeSubjectFields:[],subjectFields:function(){return this.get("store").find("subjectfield",{concepts__lexemes__collections:this.get("model").get("id")})}.property("model"),columns:function(){var a=this.get("activeLanguages"),b=Ember.Table.ColumnDefinition.create({headerCellName:"Concepts",contentPath:"id"}),c=Ember.Table.ColumnDefinition.create({headerCellName:"Definition",contentPath:"definition"});return cols=[b],a.forEach(function(a){cols.push(Ember.Table.ColumnDefinition.create({headerCellName:a.get("name"),tableCellViewClass:"Ltm.TermTableCellView",contentPath:a.get("locale")}))}),cols.push(c),cols}.property("activeLanguages.@each"),rows:function(){var a=this,b=this.get("numRows")+this.get("start"),c=this.get("model").filter(function(b){return a.get("activeSubjectFields").any(function(a){var c=!1;return b.get("subjectFields").forEach(function(b){b==a&&(c=!0)}),c})});return c.length||(c=this.get("model")),c.slice(this.get("start"),b).map(function(b){var c=Ember.Object.create({id:b.get("conceptId"),definition:b.get("definition")});return a.get("activeLanguages").forEach(function(d){c.set(d.get("locale"),Ember.Object.create({concept:b,language:d,store:a.get("store")}))}),c})}.property("model","start","numRows","activeLanguages.@each","activeSubjectFields.@each")})}(),function(){Ltm.ApplicationAdapter=DS.DjangoRESTAdapter.extend({host:"http://localhost:8000",namespace:"api"})}(),function(){Ltm.Collection=DS.Model.extend({name:DS.attr("string"),lexemes:DS.hasMany("lexeme")}),Ltm.Collection.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Collection.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Concept=DS.Model.extend({conceptId:DS.attr("string"),definition:DS.attr("string"),subjectFields:DS.hasMany("subjectfield",{async:!0}),lexemes:DS.hasMany("lexeme",{async:!0}),representationMap:function(){console.log(Ember.get(Ltm.Concept,"url"))}.property("lexemes")}),Ltm.Concept.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()})}(),function(){Ltm.Feature=DS.Model.extend({name:DS.attr("string"),featurevalues:DS.hasMany("featurevalue",{async:!0})}),Ltm.Feature.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Feature.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Featurevalue=DS.Model.extend({name:DS.attr("string"),feature:DS.belongsTo("feature"),forms:DS.hasMany("form",{async:!0})}),Ltm.Featurevalue.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Featurevalue.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Form=DS.Model.extend({name:DS.attr("string"),lexemes:DS.hasMany("lexeme",{async:!0}),lexicalForms:DS.hasMany("lexicalform",{async:!0}),features:DS.hasMany("featurevalue",{async:!0})}),Ltm.Form.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()})}(),function(){Ltm.Language=DS.Model.extend({langCode:DS.attr("string"),regionCode:DS.attr("string"),name:DS.attr("string"),lexicalClasses:DS.hasMany("lexicalclass",{async:!0}),locale:function(){return this.get("langCode")+"_"+this.get("regionCode")}.property("langCode","regionCode")}),Ltm.Language.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Language.FIXTURES=[{id:0,lang_code:"foo",name:"foo",lexical_classes:"foo"},{id:1,lang_code:"foo",name:"foo",lexical_classes:"foo"}]}(),function(){Ltm.Lexeme=DS.Model.extend({lexId:DS.attr("string"),lexicalClass:DS.belongsTo("lexicalclass"),concept:DS.belongsTo("concept"),notes:DS.hasMany("note",{async:!0}),forms:DS.hasMany("form",{async:!0}),lexicalForms:DS.hasMany("lexicalform",{async:!0}),collections:DS.hasMany("collection",{async:!0}),lemma:function(){var a=Ember.Object.create({name:"Loading..."});return this.get("store").find("representation",{lexical_form__lexeme:this.get("id"),lexical_form__is_lemma:!0,representation_type__name:"written"}).then(function(b){var c=b.get("firstObject");a.set("name",c.get("name"))}),a}.property("lexicalForms.@each")}),Ltm.Lexeme.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()})}(),function(){Ltm.Lexicalclass=DS.Model.extend({name:DS.attr("string"),language:DS.belongsTo("language"),lexemes:DS.hasMany("lexeme",{async:!0})}),Ltm.Lexicalclass.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Lexicalclass.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Lexicalform=DS.Model.extend({isLemma:DS.attr("boolean"),form:DS.belongsTo("form"),lexeme:DS.belongsTo("lexeme"),representations:DS.hasMany("representation",{async:!0}),writtenRepresentations:function(){var a=Ember.ArrayProxy.create();return this.get("store").find("representation",{lexical_form:this.get("id"),representation_type__name:"written"}).then(function(b){a.set("content",b)}),a}.property("representations.@each")}),Ltm.Lexicalform.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()})}(),function(){Ltm.Note=DS.Model.extend({note:DS.attr("string"),noteType:DS.attr("string"),lexeme:DS.belongsTo("lexeme")}),Ltm.Note.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Note.FIXTURES=[{id:0,note:"foo",note_type:"foo"},{id:1,note:"foo",note_type:"foo"}]}(),function(){Ltm.Representation=DS.Model.extend({name:DS.attr("string"),representationType:DS.belongsTo("representationtype"),lexicalForm:DS.belongsTo("lexicalform")}),Ltm.Representation.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Representation.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Representationtype=DS.Model.extend({name:DS.attr("string"),representations:DS.hasMany("representation",{async:!0})}),Ltm.Representationtype.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Em.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Representationtype.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.Subjectfield=DS.Model.extend({name:DS.attr("string"),concepts:DS.hasMany("concept",{async:!0})}),Ltm.Subjectfield.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Ember.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()}),Ltm.Subjectfield.FIXTURES=[{id:0,name:"foo"},{id:1,name:"foo"}]}(),function(){Ltm.ApplicationRoute=Ember.Route.extend({})}(),function(){Ltm.EntryRoute=Ember.Route.extend({renderTemplate:function(){this.render(),this.render("header",{outlet:"header"})}})}(),function(){Ltm.IndexRoute=Ember.Route.extend({model:function(){return this.store.find("collection")}})}(),function(){Ltm.LexEntryRoute=Ember.Route.extend({})}(),function(){Ltm.LexRoute=Ember.Route.extend({model:function(){var a=this.modelFor("collection");return this.get("store").find("language",{lexical_classes__lexemes__collections:a.get("id")})}})}(),function(){Ltm.TermIndexRoute=Ember.Route.extend({model:function(){var a=this.modelFor("collection");return this.get("store").find("concept",{lexemes__collections:a.get("id")})}})}(),function(){Ltm.TermRoute=Ember.Route.extend({})}(),function(){Ltm.TermTableCellView=Ember.Table.TableCell.extend({templateName:"term_table_cell",_repstring:"Loading...",_lexeme:0,repstring:function(){return"Loading..."==this.get("_repstring")&&this.load_repstring(),this.get("_repstring")}.property("_repstring"),lexeme:function(){return this.get("_lexeme")||this.load_lexeme(),this.get("_lexeme")}.property("_lexeme"),store:function(){var a=this.get("cellContent");return a?this.get("cellContent").get("store"):void 0}.property("cellContent"),concept:function(){var a=this.get("cellContent");return a?this.get("cellContent").get("concept"):void 0}.property("cellContent","cellContent.concept"),language:function(){var a=this.get("cellContent");return a?this.get("cellContent").get("language"):void 0}.property("cellContent","cellContent.language"),load_lexeme:function(){var a=this.get("cellContent"),b=this;a&&b.get("store").find("lexeme",{concept:b.get("concept").get("id"),lexical_class__language:b.get("language").get("id")}).then(function(a){b.set("_lexeme",a.objectAt(0))})}.observes("cellContent","concept","language"),load_repstring:function(){var a=this.get("cellContent"),b=this;a&&b.get("store").find("representation",{lexical_form__lexeme__concept:b.get("concept").get("id"),lexical_form__lexeme__lexical_class__language:b.get("language").get("id")}).then(function(a){var c="";a.forEach(function(a){c+=a.get("name")+"\n"}),b.set("_repstring",c)})}.observes("cellContent","concept","language")})}(),function(){Ltm.Router.map(function(){this.resource("collections",function(){}),this.resource("collection",{path:"collection/:collection_id"},function(){this.resource("term",function(){}),this.resource("lex",function(){this.route("entry",{path:"language/:language_id/entries"})}),this.resource("entry",{path:"entry/:lexeme_id"},function(){})})})}();